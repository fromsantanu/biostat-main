## **üß¨ Wilcoxon Rank-Sum Test (Mann-Whitney U Test)**

### **üìñ Introduction**

The **Wilcoxon Rank-Sum Test**, also known as the **Mann-Whitney U Test**, is a non-parametric alternative to the **independent samples t-test**. It is used when:

‚úÖ Comparing **two independent groups**
‚úÖ Data is **ordinal or continuous but not normally distributed**

---

### **üîç When to Use**

‚úÖ To test whether **distributions of two groups differ**
‚úÖ Useful when assumptions of **normality and equal variances are violated**

Example: Comparing **pain scores between treatment and control groups**.

---

### **üìù Key Concepts**

1. **Ranks of Combined Data:**

* Combine data from both groups and rank all observations.

2. **Sum of Ranks:**

* Calculate **sum of ranks** for each group.

3. **Test Statistic (U):**

$$
U_1 = n_1 n_2 + \frac{n_1 (n_1 + 1)}{2} - R_1
$$

Where:

* **n‚ÇÅ, n‚ÇÇ:** sample sizes of groups 1 and 2
* **R‚ÇÅ:** sum of ranks for group 1

‚úÖ **Smaller U value** is used for significance testing.

---

### **üî¨ Practical Example**

#### **Scenario**

A study compares **pain scores** in **two independent groups (n=5 each)**:

| **Treatment Group** | **Control Group** |
| ------------------- | ----------------- |
| 3                   | 5                 |
| 2                   | 6                 |
| 4                   | 7                 |
| 3                   | 5                 |
| 5                   | 6                 |

---

#### **Stepwise Calculation**

1. **Combine data and rank**

| Score | Group | Rank |
| ----- | ----- | ---- |
| 2     | T     | 1    |
| 3     | T     | 2.5  |
| 3     | T     | 2.5  |
| 4     | T     | 4    |
| 5     | T     | 5.5  |
| 5     | C     | 5.5  |
| 5     | C     | 5.5  |
| 6     | C     | 8    |
| 6     | C     | 8    |
| 7     | C     | 10   |

*(Average ranks used for ties.)*

---

2. **Sum of ranks**

* Treatment group (R‚ÇÅ): 1 + 2.5 + 2.5 + 4 + 5.5 = 15.5
* Control group (R‚ÇÇ): remaining sum = total ranks sum ‚Äì R‚ÇÅ = 55 ‚Äì 15.5 = 39.5

---

3. **Calculate U statistics**

$$
U_1 = n_1 n_2 + \frac{n_1(n_1 + 1)}{2} - R_1
$$

$$
U_1 = 5*5 + \frac{5*6}{2} - 15.5
$$

$$
U_1 = 25 + 15 - 15.5
= 40 - 15.5
= 24.5
$$

Similarly,

$$
U_2 = n_1 n_2 - U_1 = 25 - 24.5 = 0.5
$$

‚úÖ **Test statistic = smaller of U‚ÇÅ and U‚ÇÇ = 0.5**

---

4. **Interpretation**

Using Mann-Whitney U tables for **n‚ÇÅ=5, n‚ÇÇ=5, Œ±=0.05 (two-tailed)**:

* Critical value = 2

‚úÖ Since **U = 0.5 < 2**, result is **significant**.

---

### **üí° Conclusion**

‚úÖ There is a **significant difference in pain scores** between treatment and control groups.

---

### **üñ•Ô∏è Implementation in Python**

Using **scipy.stats module**:

```python
# Install if not installed
# pip install scipy

import scipy.stats as stats

# Data
treatment = [3,2,4,3,5]
control = [5,6,7,5,6]

# Perform Mann-Whitney U Test
statistic, p_value = stats.mannwhitneyu(treatment, control, alternative='two-sided')

print(f"Mann-Whitney U statistic: {statistic}")
print(f"p-value: {p_value:.4f}")
```

---

### **üîë Interpretation**

‚úÖ **p-value < 0.05:** Significant difference between groups.

---

### **üí° Limitations**

‚ùå Tests for **differences in distributions**, not specifically medians
‚ùå Less powerful than t-test if data is normal

---

### **üéØ Key Takeaways**

‚úÖ **Wilcoxon Rank-Sum Test (Mann-Whitney U Test)** compares **two independent non-normal groups**
‚úÖ Uses **ranks instead of raw data**
‚úÖ Widely used for **clinical trials, epidemiological studies, and small sample comparisons**

---

